(function(){function gt(){var t,u;typeof superCaptionData!="undefined"&&(g=superCaptionData.SuperCaptionTaskPaneCFV2Enabled,hi())&&(t=ci(),t.length&&(Log.Log("Show",n,"SuperCaptionTaskPaneV1"),i=t,!o&&g&&(u=oi(),r=u,c(),sj_be(_w,"resize",rt),tt(u,!1))))}function ni(){if(typeof sctpData=="undefined"){it("SCSTPNOD");return}if(r=ti(),!r){it("SCSNOTP");return}c();sj_be(_w,"resize",rt);Log.Log("Show",n,"SuperCaptionTaskPaneV2");tt(r,!0)}function ti(){var n=ge_cl(t,k)[0];return n?(n.id=f,n.setAttribute("data-priority","2"),Lib.CssClass.add(n,f),n):null}function tt(t,r){var c,v,o,y,l;if(r||i&&i.length!==0){var s=typeof sctpeIID!="undefined"?sctpeIID:null,a=[],f=null;if(r){s=sctpData.IID;try{f=JSON.parse(sctpData.metadata)}catch(p){}if(!s||!f){this.logError("SCSTPNOPAY");return}}else if(i){for(c=0;c<i.length;c++){v=ge_cl(i[c],d)[0];s||(s=v.getAttribute(pt));try{o=JSON.parse(v.getAttribute(yt));(o===null||o===void 0?void 0:o.url)&&(f||(f=o),h[o.url]=i[c],a.push({en:o.entity,url:o.url}))}catch(p){}}if(!a.length)return}else return;y=wt+"?IID=".concat(s,"&IG=").concat(_G.IG);l=ri();(l===null||l===void 0?void 0:l.length)&&(y+="&"+l);f.query=ii();f.eft=!0;f.pw=u[e];f.sctp=1;r||(f.rbms=a);try{ui(y,t,JSON.stringify(f))}catch(p){Log.Log("Error",n,"SCSErrSentReq")}}}function it(t){Log.Log(w,n,t)}function ii(){var n,t,i=(t=(n=_w.location)===null||n===void 0?void 0:n.search)===null||t===void 0?void 0:t.match(new RegExp("[?&]{1}q=([^&]+)"));return i?decodeURI(i[1]):null}function ri(){var i,t=(i=_w.location)===null||i===void 0?void 0:i.search,n,u,e;if((t===null||t===void 0?void 0:t.length)>1){var f=[],o={atlahostname:null,testhooks:null,uncrunched:null,darkschemeovr:null,webthemedark:null},r=t.substring(1).split("&");for(n=0;n<r.length;n++)u=r[n].split("="),u.length===2&&(e=u[0].toLowerCase(),e in o&&f.push(r[n]));return f.join("&")}return null}function ui(t,i,r){var u=sj_gx();u.onreadystatechange=function(){u.readyState===4&&u.status===200&&fi(i,u.responseText)};u.onerror=function(){Log.Log(w,n,"SCSReqErr")};u.open("POST",t,!0);u.setRequestHeader("content-type","application/json");u.send(r)}function fi(t,i){var r,f,s;if((Log.Log("Ajax",n,"SCTPRequestComplete"),t)&&i){if(nt){Log.Log("Ajax",n,"SCTPRequestDI");return}if(r=sj_ce("div",null,"scs_c scs_ws3"),sj_appHTML(r,i),!r||!ge_cl(r,lt)[0]){Log.Log("Ajax",n,"SCTPEmpRes");return}t.appendChild(r);f=r.querySelector("#aRmsDefer");f&&f.removeAttribute("id");_w.rms&&_w.rms.start();o||li(t);s=function(){var n;(n=_w.SuperCaptionsContainerAjax)===null||n===void 0?void 0:n.init(null,t);_w.sj_evt&&sj_evt.unbind(p,s)};_w.sj_evt&&sj_evt.bind(p,s,!0);_w.sj_evt&&sj_evt.fire(at,u[e]);nt=!0}}function rt(){c()}function c(){var i,n,t;if(r){if(i=r.offsetWidth,n=-1,typeof i=="undefined"||i===0)n=u.length-1;else for(t=0;t<u.length;t++)if(u[t]<=i){n=t;break}n!=e&&n!=-1&&(e=n,ei(r,l,l[e]))}}function ei(n,t,i){for(var f,r=0,u=t;r<u.length;r++)f=u[r],Lib.CssClass.contains(n,f)&&Lib.CssClass.remove(n,f);Lib.CssClass.add(n,i)}function oi(){var r,i=sj_ce("li",f,f),n,u;return i.setAttribute("data-priority","2"),n=t,n&&(((r=n.children)===null||r===void 0?void 0:r.length)?(u=si(n),u?n.insertBefore(i,u):n.appendChild(i)):n.appendChild(i)),i}function si(n){var t,i,r,u;if(!n||(t=n.children,t.length==0))return null;for(i=0,r=0;r<t.length;r++)if(u=t[r],ut(u,dt))return u;return i=Lib.CssClass.contains(t[t.length-1],b)?t.length-1:t.length,i<t.length?t[i]:null}function hi(){var r=(t===null||t===void 0?void 0:t.childElementCount)||0,n,i;if(r===0)return!0;for(n=0;n<t.children.length;n++)if((i=t.children[n],i)&&!ut(i,kt))return!1;return!0}function ut(n,t){var r,i;if(n&&t)for(r=0;r<t.length;r++)if(i=t[r],i.childSelector&&n.querySelector(i.childSelector)||i.selfClassName&&Lib.CssClass.contains(n,i.selfClassName))return!0;return!1}function ci(){var n,r,f,t,u,i;if(!ge_cl(_d,vt).length)return[];if(n=_d.querySelectorAll(ht),r=[],n===null||n===void 0?void 0:n.length)for(f=Math.min(bt,n.length),t=0;t<f;t++)u=n[t],i=ge_cl(u,d),(i===null||i===void 0?void 0:i.length)&&r.push(u);return r}function li(n){if(n&&!n.querySelector(ft)){var t=ai();s=ge_cl(n,et)[0];t&&s&&s.insertBefore(t,s.firstChild)}}function ai(){var i=vi(),n,t;return i?(n=sj_ce("div",null,ct),t=sj_ce("h2"),t.innerText=i,n.appendChild(t),n):null}function vi(){var r,u,f,t,n,i,e;if(typeof superCaptionTPData!="undefined"&&superCaptionTPData&&(f=superCaptionTPData.headerUrl,h[f])){if(t=h[f],n=(r=t.querySelector(ot))===null||r===void 0?void 0:r.innerText,n)return n;for(i=0;i<t.childNodes.length;i++)if(e=t.childNodes[i],e.tagName==="H2")return e.innerText;if(n=(u=t.querySelector(st))===null||u===void 0?void 0:u.innerText,n)return n}return null}var t=_ge("b_context"),u=[472,384,296],l=["scs_ws3","scs_ws2","scs_ws1"],ft=".scs_prTi",et="scs_metactn",ot=".b_title > h2 > a",st="h2 > a",ht="#b_results >li.b_algo",ct="scs_cpr scs_prTi",f="b_super_task_pane",lt="scs_child",a=".richrswrapper, .b_rrsr",v=".tob_rail_item",y=".coll_vc",n="SuperCaption",p="scs_init",at="scs_resetpanelwidth",w="SCSErr",vt="task_pane_scs",b="b_super_task_pane_metadata",k="b_sctp",yt="data-sc-metadata",d="scs_c",pt="data-sc-iid",wt="/supercaptions",bt=20,i=null,h={},e=-1,r=null,s=null,g=!1,o=!1,nt=!1,kt=[{childSelector:".b_sydtiger, .b_wpt_bg"},{childSelector:a},{childSelector:v},{childSelector:".b_bfb_context"},{selfClassName:b},{selfClassName:f},{childSelector:y},{selfClassName:k}],dt=[{childSelector:a},{childSelector:v},{childSelector:y}];typeof sctpData!="undefined"&&sctpData&&(o=!0);Log.Log("Info",n,"SCSTPLD",!1,"isME",o?"1":"0");gt();o&&ni()})()