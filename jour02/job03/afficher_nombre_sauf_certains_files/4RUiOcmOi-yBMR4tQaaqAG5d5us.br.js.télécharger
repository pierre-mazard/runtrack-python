var WholePageTemplateBingChat;(function(){function t(){if(!i&&(i=!0,n=_qs(".wpt_bc_container"),n!=null&&CIB!=undefined)){var t=CIB.insertAt(n);t.setAttribute("serp-slot","lite");e().then(function(n){n&&SydFSCHelper.processCachedResponseUsingCIB(n);setTimeout(s,1e3)})}}function e(){var n,t,i,r,u=JSON.parse(_w.BingChatCustomGreetingString),s=SydFSCHelper.getConfigOrDefault((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBopCustomGreeting,!1),f,e;return s?(f=(i=(t=_G===null||_G===void 0?void 0:_G.Lang)===null||t===void 0?void 0:t.split("-")[0])!==null&&i!==void 0?i:"en",e=(r=_G===null||_G===void 0?void 0:_G.Region)!==null&&r!==void 0?r:"*",fetch("/wpt/fetchSuggestion?"+new URLSearchParams({q:new URLSearchParams(window.location.search).get("q"),lang:f,region:e})).then(function(n){return n.json()}).then(function(n){return{messages:[o(n.Query,n.Suggestions)]}})["catch"](function(){return u})):Promise.resolve(u)}function o(n,t){function i(){return[{body:[{text:n,type:"TextBlock",wrap:!0}],type:"AdaptiveCard",version:"1.0"}]}function r(n,t){return{text:n,displayText:t,messageType:"Suggestion",messageId:f()}}return{text:n,author:"bot",adaptiveCards:i(),suggestedResponses:t.map(function(n){return r(n.Query,n.DisplayText)}),messageId:f(),spokenText:n}}function f(){function n(){return((1+Math.random())*65536|0).toString(16).substring(1)}return(n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()).toLowerCase()}function s(){var t,i,r,u,f,e,o,s,h,c,l,a,w,b,v,y,p;Lib.CssClass.remove(n,"b_hide");_w.BingChatEnableClickToChat&&(w=_qs(".wpt_bc_container cib-serp"),b=(u=(r=(i=(t=_qs(".wpt_bc_container cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-action-bar"))===null||r===void 0?void 0:r.shadowRoot)===null||u===void 0?void 0:u.querySelector(".root"),sj_be(w,"click",function(){SydFSCHelper.LogIntEvent("ConversationViewEnter","BOP",{source:"BingChat"});sj_evt.fire("showSydFSC")}),sj_be(b,"click",function(n){n.target.tagName.toLowerCase()!="svg-icon"&&n.target.querySelector("svg-icon")==null&&n.stopPropagation()},!0));v=(c=(h=(s=(o=(e=(f=_qs(".wpt_bc_container cib-serp"))===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.querySelector("cib-action-bar"))===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.querySelector("cib-text-input"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("textarea");v&&sj_be(v,"keydown",function(n){(n.code=="Enter"||n.code=="NumpadEnter")&&setTimeout(function(){SydFSCHelper.LogIntEvent("ConversationViewEnter","BOP",{source:"BingChat"});sj_evt.fire("showSydFSC")},10)});y=(a=(l=_qs(".wpt_bc_container cib-serp"))===null||l===void 0?void 0:l.shadowRoot)===null||a===void 0?void 0:a.querySelector("cib-conversation");y!=null&&(p=sj_ce("style"),p.textContent="#cib-conversation-main { cursor: pointer; }",y.appendChild(p));sj_evt.fire("wptbcready")}var n=null,i=!1,r=_w.BingChatAlternativeRendering;if(r=="htmlready")t();else if(r=="scroll"){function u(){sj_ue&&sj_ue(_w,"scroll",u);t()}sj_be&&sj_be(_w,"scroll",u)}else sj_evt&&sj_evt.bind("onP1",t)})(WholePageTemplateBingChat||(WholePageTemplateBingChat={}))